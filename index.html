<!DOCTYPE html>
<html lang="en">
<head>
  <!--
    CityCare++ Hospital Website
    Single-file app with responsive layout, dark mode, appointment booking,
    doctor directory search, services tabs, testimonials, gallery, FAQ accordion,
    contact form, toast notifications, and accessibility features.
    (c) 2025 You
  -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CityCare++ Hospital</title>
  <meta name="description" content="CityCare++ Hospital - Compassionate, world-class care with 24/7 emergency services, online appointments, and expert doctors." />
  <meta name="theme-color" content="#0d6efd" />
  <style>
    /* ===========================
       CSS RESET + BASE
       =========================== */
    *, *::before, *::after { box-sizing: border-box; }
    html:focus-within { scroll-behavior: smooth; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      line-height: 1.6;
      color: #1c1f24;
      background: #f7f8fb;
      text-rendering: optimizeLegibility;
    }
    img, svg { display: block; max-width: 100%; }
    a { color: inherit; text-decoration: none; }
    button { font: inherit; }
    :root {
      --bg: #f7f8fb;
      --panel: #ffffff;
      --text: #1c1f24;
      --muted: #5b6370;
      --brand: #0d6efd;
      --brand-600: #0b5ed7;
      --brand-700: #0a58ca;
      --accent: #22c55e;
      --danger: #ef4444;
      --warning: #f59e0b;
      --border: #e5e7eb;
      --shadow: 0 10px 25px rgba(0,0,0,.08);
      --radius: 14px;
      --radius-sm: 10px;
      --radius-lg: 18px;
      --focus: 0 0 0 3px rgba(13,110,253,.35);
    }
    .dark {
      --bg: #0e1116;
      --panel: #151a22;
      --text: #e7ebf3;
      --muted: #9aa3b2;
      --brand: #4ea2ff;
      --brand-600: #3e88da;
      --brand-700: #3577be;
      --accent: #5ee392;
      --danger: #ff7d7d;
      --warning: #ffd166;
      --border: #242c39;
      --shadow: 0 10px 25px rgba(0,0,0,.35);
      --focus: 0 0 0 3px rgba(78,162,255,.35);
      color-scheme: dark;
    }
    body { background: var(--bg); color: var(--text); }

    /* ===========================
       UTILS
       =========================== */
    .container { width: min(1200px, 92vw); margin: 0 auto; }
    .grid { display: grid; gap: 1.25rem; }
    .grid-2 { grid-template-columns: repeat(2, 1fr); }
    .grid-3 { grid-template-columns: repeat(3, 1fr); }
    .grid-4 { grid-template-columns: repeat(4, 1fr); }
    @media (max-width: 900px){ .grid-3, .grid-4 { grid-template-columns: repeat(2, 1fr);} }
    @media (max-width: 680px){ .grid-2, .grid-3, .grid-4 { grid-template-columns: 1fr; } }
    .card {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 1.25rem;
    }
    .tag { display:inline-block; padding:.25rem .6rem; border-radius:999px; font-size:.8rem; border:1px solid var(--border); color:var(--muted) }
    .muted { color: var(--muted); }
    .pill { border-radius: 999px; }
    .btn {
      display: inline-flex; align-items: center; justify-content: center;
      gap:.5rem; border:1px solid transparent; border-radius: 12px; padding:.75rem 1rem;
      background: var(--brand); color: #fff; box-shadow: var(--shadow);
      transition: transform .06s ease, background .2s ease, box-shadow .2s ease;
    }
    .btn:hover { background: var(--brand-600); }
    .btn:active { transform: translateY(1px); }
    .btn.outline { background: transparent; color: var(--brand); border-color: var(--brand); }
    .btn.ghost { background: transparent; border-color: var(--border); color: var(--text); }
    .btn.success { background: var(--accent); color: #0b2c13; border: 1px solid rgba(0,0,0,.06); }
    .btn.danger { background: var(--danger); }
    .btn.full { width: 100%; }
    .badge { font-size:.75rem; padding:.25rem .5rem; border-radius: .5rem; background: rgba(13,110,253,.1); color: var(--brand); }
    .sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
    .section { padding: 4rem 0; }
    .section-header { display:flex; align-items:end; justify-content:space-between; gap:1rem; margin-bottom:1.5rem; }
    .section-header h2 { margin:0; font-size: clamp(1.5rem, 1.2rem + 1.5vw, 2.25rem); }
    .chip-group { display:flex; flex-wrap:wrap; gap:.5rem; }
    .chips .chip { padding:.4rem .7rem; border-radius:999px; border:1px solid var(--border); color:var(--muted); cursor:pointer }
    .chips .chip.active { background: var(--brand); color:#fff; border-color:var(--brand); }

    /* Focus styles for accessibility */
    :focus-visible { outline: none; box-shadow: var(--focus); border-radius: 8px; }

    /* ===========================
       NAVBAR
       =========================== */
    .nav-wrap {
      position: sticky; top: 0; z-index: 50; backdrop-filter: saturate(1.2) blur(6px);
      background: color-mix(in lab, var(--panel) 78%, transparent);
      border-bottom: 1px solid var(--border);
    }
    nav.nav {
      display:flex; align-items:center; justify-content:space-between; gap:1rem;
      height: 64px; 
    }
    .logo { display:flex; align-items:center; gap:.65rem; font-weight:700; letter-spacing:.2px; }
    .logo .emblem {
      width:32px; height:32px; display:grid; place-items:center; border-radius:8px;
      background: linear-gradient(135deg, var(--brand), #60a5fa);
      color:white; font-weight:900; box-shadow: var(--shadow);
    }
    .nav-links { display:flex; gap:.6rem; align-items:center; }
    .nav-links a { padding:.55rem .8rem; border-radius:10px; color:var(--muted); font-weight:600; }
    .nav-links a:hover { background: rgba(13,110,253,.08); color: var(--brand); }
    .nav-actions { display:flex; gap:.5rem; align-items:center; }
    .theme-toggle { border:1px solid var(--border); background:transparent; color:var(--text); padding:.6rem; border-radius:12px; }
    .hamburger { display:none; }
    @media (max-width:860px){
      .nav-links { display:none; }
      .hamburger { display:inline-flex; border:1px solid var(--border); background:transparent; padding:.6rem; border-radius:12px; }
      .mobile-menu { display:none; position:absolute; top:64px; left:0; right:0; background: var(--panel); border-bottom:1px solid var(--border); }
      .mobile-menu.open { display:block; }
      .mobile-menu a { display:block; padding:1rem 1.25rem; border-top:1px solid var(--border); color:var(--muted); }
      .mobile-menu a:hover { background: rgba(13,110,253,.07); color:var(--brand); }
    }

    /* ===========================
       HERO
       =========================== */
    .hero {
      padding: clamp(3rem, 4vw + 2rem, 6rem) 0 2rem;
      background:
        radial-gradient(1200px 600px at 10% -10%, rgba(13,110,253,.20), transparent 70%),
        radial-gradient(900px 500px at 100% 0%, rgba(34,197,94,.14), transparent 60%);
    }
    .hero-inner { display:grid; grid-template-columns: 1.2fr .8fr; gap:2rem; align-items:center; }
    @media (max-width:860px){ .hero-inner { grid-template-columns: 1fr; } }
    .hero h1 {
      font-size: clamp(2rem, 1.4rem + 2.6vw, 3.1rem);
      margin: 0 0 .5rem;
      letter-spacing: 0.2px;
    }
    .hero p { color: var(--muted); margin: 0 0 1rem; font-size: 1.05rem; }
    .hero .actions { display:flex; gap:.75rem; flex-wrap:wrap; }
    .hero-figure {
      position: relative; isolation: isolate; aspect-ratio: 16/11; border-radius: var(--radius-lg); overflow: hidden;
      box-shadow: var(--shadow); border: 1px solid var(--border); background: var(--panel);
    }
    .hero-figure img { width:100%; height:100%; object-fit: cover; }
    .floating-stats {
      position:absolute; inset:auto 1rem 1rem auto; display:grid; gap:.5rem; width:min(260px, 60%); z-index:2;
    }
    .stat {
      display:flex; align-items:center; gap:.75rem; padding:.7rem .9rem; border-radius:12px;
      background: color-mix(in lab, var(--panel) 88%, transparent); border:1px solid var(--border);
      backdrop-filter: blur(4px);
    }
    .stat .icon { width:34px; height:34px; display:grid; place-items:center; border-radius:8px; color:#fff; }
    .icon.blue { background: linear-gradient(135deg, var(--brand), #60a5fa); }
    .icon.green { background: linear-gradient(135deg, var(--accent), #b7ffd0); color:#0c3d1f; }
    .icon.gold { background: linear-gradient(135deg, #f59e0b, #ffd166); color:#522f00; }

    /* ===========================
       SERVICES TABS
       =========================== */
    .tabs { display:flex; gap:.6rem; flex-wrap:wrap; }
    .tabs button {
      padding:.6rem .9rem; border:1px solid var(--border); background:transparent; border-radius:12px; color:var(--muted);
      cursor:pointer; transition: background .2s;
    }
    .tabs button.active { background: var(--brand); color:#fff; border-color:var(--brand); }
    .tab-panels > div { display:none; }
    .tab-panels > div.active { display:block; animation: fadeIn .28s ease; }
    @keyframes fadeIn { from{opacity:0; transform: translateY(4px)} to{opacity:1; transform:none} }

    /* ===========================
       DOCTORS
       =========================== */
    .doc-card {
      display:grid; grid-template-columns: 88px 1fr; gap:1rem; align-items:center;
    }
    .doc-avatar {
      width:88px; height:88px; border-radius:16px; overflow:hidden; border:1px solid var(--border); background: #cde2ff;
    }
    .doc-meta { display:flex; align-items:center; gap:.5rem; flex-wrap:wrap; }
    .filters { display:flex; gap:.5rem; flex-wrap:wrap; }
    .filters input, .filters select {
      padding:.6rem .7rem; border-radius:10px; border:1px solid var(--border); background: var(--panel); color: var(--text);
    }

    /* ===========================
       APPOINTMENTS
       =========================== */
    .form { display:grid; gap:.9rem; }
    .form label { font-weight: 600; }
    .form input, .form select, .form textarea {
      padding:.75rem .8rem; border-radius:12px; border:1px solid var(--border); background: var(--panel); color: var(--text);
    }
    .form .row { display:grid; grid-template-columns: repeat(2, 1fr); gap:.9rem; }
    @media (max-width:680px){ .form .row { grid-template-columns: 1fr; } }
    .appt-list { display:grid; gap:.75rem; }
    .appt-item {
      display:grid; gap:.5rem; grid-template-columns: 1.2fr .8fr auto; align-items:center; padding:.8rem; border:1px solid var(--border);
      border-radius:12px; background: var(--panel);
    }
    @media (max-width:820px){ .appt-item { grid-template-columns: 1fr; align-items:start; } }

    /* ===========================
       FAQ ACCORDION
       =========================== */
    .accordion .item { border:1px solid var(--border); border-radius:12px; background: var(--panel); overflow:hidden; }
    .accordion .head {
      display:flex; align-items:center; justify-content:space-between; padding:1rem;
      cursor:pointer; font-weight:600;
    }
    .accordion .content { display:grid; grid-template-rows:0fr; transition:grid-template-rows .25s ease; }
    .accordion .content > div { overflow:hidden; }
    .accordion .item.open .content { grid-template-rows:1fr; }
    .accordion .item + .item { margin-top:.7rem; }

    /* ===========================
       TESTIMONIALS / GALLERY
       =========================== */
    .testi { display:grid; grid-template-columns: .9fr 1.1fr; gap:1rem; align-items:center; }
    @media (max-width:860px){ .testi { grid-template-columns: 1fr; } }
    .stars { color:#f59e0b; letter-spacing: 2px; }
    .gallery { display:grid; grid-template-columns: repeat(3, 1fr); gap:.6rem; }
    @media (max-width:780px){ .gallery { grid-template-columns: repeat(2, 1fr);} }
    .gallery img { aspect-ratio: 4/3; object-fit: cover; border-radius:12px; border:1px solid var(--border); }

    /* ===========================
       FOOTER
       =========================== */
    footer { border-top:1px solid var(--border); padding:2.5rem 0; margin-top: 2rem; }
    .foot { display:grid; grid-template-columns: 1.5fr 1fr 1fr 1fr; gap:1.25rem; }
    @media (max-width:900px){ .foot { grid-template-columns: 1fr 1fr; } }
    @media (max-width:600px){ .foot { grid-template-columns: 1fr; } }
    .foot h4 { margin:.25rem 0 .75rem; }
    .foot a { color: var(--muted); display:block; padding:.25rem 0; }
    .copyright { margin-top:1rem; color: var(--muted); font-size:.9rem; }

    /* ===========================
       TOASTS
       =========================== */
    .toasts {
      position: fixed; inset: 1rem 1rem auto auto; display:grid; gap:.5rem; z-index: 1000; pointer-events:none;
    }
    .toast {
      pointer-events:auto;
      display:flex; align-items:center; gap:.6rem; padding:.7rem .9rem; border-radius:12px;
      background: var(--panel); border:1px solid var(--border); box-shadow: var(--shadow);
      animation: slideIn .22s ease;
    }
    .toast.success { border-left: 6px solid var(--accent); }
    .toast.warn { border-left: 6px solid var(--warning); }
    .toast.error { border-left: 6px solid var(--danger); }
    @keyframes slideIn { from{opacity:0; transform: translateY(-6px)} to{opacity:1; transform:none} }

    /* ===========================
       MODAL MAP (dummy)
       =========================== */
    .modal-backdrop {
      position: fixed; inset:0; background: rgba(0,0,0,.5); display:none; place-items: center; z-index: 900;
    }
    .modal-backdrop.open { display:grid; }
    .modal {
      width:min(900px, 92vw); background:var(--panel); border:1px solid var(--border); border-radius:16px; box-shadow: var(--shadow);
      overflow:hidden;
    }
    .modal header { display:flex; align-items:center; justify-content:space-between; padding:1rem 1.25rem; border-bottom:1px solid var(--border); }
    .modal .body { padding:1rem; }
    .map-frame {
      aspect-ratio: 16/9; border:1px solid var(--border); border-radius:12px; overflow:hidden;
      background:
        radial-gradient(300px 200px at 20% 30%, rgba(13,110,253,.2), transparent 70%),
        radial-gradient(250px 200px at 90% 70%, rgba(34,197,94,.18), transparent 70%),
        linear-gradient(135deg, color-mix(in lab, var(--panel) 90%, transparent), color-mix(in lab, var(--panel) 75%, transparent));
      display:grid; place-items:center; color:var(--muted);
    }

    /* ===========================
       PRINT STYLES
       =========================== */
    @media print {
      .nav-wrap, .mobile-menu, .hero .actions, .toasts, .theme-toggle, .hamburger { display:none !important; }
      body { background:#fff; }
      .card, .appt-item, .accordion .item { box-shadow:none; }
    }
  </style>
</head>
<body>
  <!-- ===========================
       NAV
       =========================== -->
  <div class="nav-wrap" role="navigation" aria-label="Primary">
    <div class="container">
      <nav class="nav">
        <a class="logo" href="#home" aria-label="CityCare++ Home">
          <span class="emblem" aria-hidden="true">+</span>
          <span>CityCare<span class="muted">++</span></span>
        </a>
        <div class="nav-links" aria-label="Sections">
          <a href="#services">Services</a>
          <a href="#doctors">Doctors</a>
          <a href="#appointments">Appointments</a>
          <a href="#faq">FAQ</a>
          <a href="#contact">Contact</a>
        </div>
        <div class="nav-actions">
          <button id="themeToggle" class="theme-toggle" aria-pressed="false" aria-label="Toggle dark mode">🌙</button>
          <button id="openMap" class="btn ghost" aria-haspopup="dialog">📍 Find Us</button>
          <button class="hamburger" id="hamburger" aria-expanded="false" aria-controls="mobileMenu">☰</button>
        </div>
      </nav>
      <div id="mobileMenu" class="mobile-menu" role="menu">
        <a role="menuitem" href="#services">Services</a>
        <a role="menuitem" href="#doctors">Doctors</a>
        <a role="menuitem" href="#appointments">Appointments</a>
        <a role="menuitem" href="#faq">FAQ</a>
        <a role="menuitem" href="#contact">Contact</a>
      </div>
    </div>
  </div>

  <!-- ===========================
       HERO
       =========================== -->
  <header class="hero" id="home">
    <div class="container hero-inner">
      <div>
        <div class="badge">ISO 9001:2015 • NABH Accredited</div>
        <h1>Compassionate care, <span class="muted">powered by science.</span></h1>
        <p>CityCare++ delivers 24/7 emergency services, same‑day appointments, advanced diagnostics, and personalized treatment plans — all under one roof.</p>
        <div class="actions">
          <a class="btn" href="#appointments">Book an Appointment</a>
          <a class="btn outline" href="#doctors">Find a Doctor</a>
        </div>
      </div>
      <figure class="hero-figure" aria-label="Hospital building">
        <img src="https://images.unsplash.com/photo-1586773860418-d37222d8fce3?q=80&w=1600&auto=format&fit=crop" alt="Modern hospital lobby" loading="eager" />
        <div class="floating-stats" aria-hidden="true">
          <div class="stat"><div class="icon blue">🏥</div><div><strong>450+</strong><div class="muted">Beds Capacity</div></div></div>
          <div class="stat"><div class="icon green">👨‍⚕️</div><div><strong>180+</strong><div class="muted">Specialist Doctors</div></div></div>
          <div class="stat"><div class="icon gold">⭐</div><div><strong>4.9/5</strong><div class="muted">Patient Rating</div></div></div>
        </div>
      </figure>
    </div>
  </header>

  <!-- ===========================
       SERVICES (Tabs)
       =========================== -->
  <section class="section" id="services">
    <div class="container">
      <div class="section-header">
        <h2>Our Services</h2>
        <div class="chip-group">
          <span class="tag">24/7 Emergency</span>
          <span class="tag">Diagnostics</span>
          <span class="tag">Telemedicine</span>
        </div>
      </div>

      <div class="card">
        <div class="tabs" role="tablist" aria-label="Services categories">
          <button class="active" role="tab" aria-selected="true" aria-controls="tab-emergency" id="tabBtnEmergency">Emergency</button>
          <button role="tab" aria-selected="false" aria-controls="tab-cardiology" id="tabBtnCardio">Cardiology</button>
          <button role="tab" aria-selected="false" aria-controls="tab-pediatrics" id="tabBtnPedia">Pediatrics</button>
          <button role="tab" aria-selected="false" aria-controls="tab-ortho" id="tabBtnOrtho">Orthopedics</button>
          <button role="tab" aria-selected="false" aria-controls="tab-onco" id="tabBtnOnco">Oncology</button>
          <button role="tab" aria-selected="false" aria-controls="tab-dental" id="tabBtnDental">Dental</button>
        </div>

        <div class="tab-panels" style="margin-top:1rem">
          <div id="tab-emergency" class="active" role="tabpanel" aria-labelledby="tabBtnEmergency">
            <div class="grid grid-3">
              <div class="card">
                <h3>Ambulance Network</h3>
                <p class="muted">ALS/BLS ambulances with GPS tracking and on-board defibrillators.</p>
              </div>
              <div class="card">
                <h3>Trauma Center</h3>
                <p class="muted">Level‑1 trauma bay with rapid triage and multi-disciplinary team.</p>
              </div>
              <div class="card">
                <h3>Stroke Protocol</h3>
                <p class="muted">Door-to-needle in under 30 minutes for thrombolysis candidates.</p>
              </div>
            </div>
          </div>

          <div id="tab-cardiology" role="tabpanel" aria-labelledby="tabBtnCardio">
            <div class="grid grid-3">
              <div class="card"><h3>Non‑invasive Diagnostics</h3><p class="muted">ECHO, TMT, Holter, 24‑hr BP monitoring.</p></div>
              <div class="card"><h3>Interventional Cath Lab</h3><p class="muted">Primary angioplasty, pacemaker, EP studies.</p></div>
              <div class="card"><h3>Cardiac Rehab</h3><p class="muted">Lifestyle coaching, supervised exercise, nutrition.</p></div>
            </div>
          </div>

          <div id="tab-pediatrics" role="tabpanel" aria-labelledby="tabBtnPedia">
            <div class="grid grid-3">
              <div class="card"><h3>Well‑baby Clinic</h3><p class="muted">Growth charts, vaccination, parental guidance.</p></div>
              <div class="card"><h3>NICU Level III</h3><p class="muted">High‑acuity neonatal support with CPAP & ventilation.</p></div>
              <div class="card"><h3>Pediatric Surgery</h3><p class="muted">Minimally invasive procedures with child‑friendly care.</p></div>
            </div>
          </div>

          <div id="tab-ortho" role="tabpanel" aria-labelledby="tabBtnOrtho">
            <div class="grid grid-3">
              <div class="card"><h3>Arthroscopy</h3><p class="muted">Knee, shoulder, ankle — rapid rehab pathways.</p></div>
              <div class="card"><h3>Joint Replacement</h3><p class="muted">Computer‑navigated TKR/THR with fast‑track recovery.</p></div>
              <div class="card"><h3>Sports Medicine</h3><p class="muted">ACL, rotator cuff, tennis elbow programs.</p></div>
            </div>
          </div>

          <div id="tab-onco" role="tabpanel" aria-labelledby="tabBtnOnco">
            <div class="grid grid-3">
              <div class="card"><h3>Day‑care Chemo</h3><p class="muted">Comfortable infusion bays, oncology pharmacists.</p></div>
              <div class="card"><h3>Radiation Therapy</h3><p class="muted">IMRT/IGRT & precise planning.</p></div>
              <div class="card"><h3>Onco‑Surgery</h3><p class="muted">Organ‑preserving procedures, enhanced recovery.</p></div>
            </div>
          </div>

          <div id="tab-dental" role="tabpanel" aria-labelledby="tabBtnDental">
            <div class="grid grid-3">
              <div class="card"><h3>Cosmetic Dentistry</h3><p class="muted">Smile design, veneers, whitening.</p></div>
              <div class="card"><h3>Implants</h3><p class="muted">Guided surgery and lifelong maintenance.</p></div>
              <div class="card"><h3>Pedodontics</h3><p class="muted">Child-friendly operatory with sedation options.</p></div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </section>

  <!-- ===========================
       DOCTORS + Filters
       =========================== -->
  <section class="section" id="doctors">
    <div class="container">
      <div class="section-header">
        <h2>Find a Doctor</h2>
        <div class="filters" aria-label="Doctor filters">
          <input id="searchDoctor" type="search" placeholder="Search name or specialty…" aria-label="Search doctors" />
          <select id="filterDept" aria-label="Filter by department">
            <option value="">All Departments</option>
            <option>Cardiology</option>
            <option>Pediatrics</option>
            <option>Orthopedics</option>
            <option>Oncology</option>
            <option>Dentistry</option>
            <option>General Medicine</option>
          </select>
        </div>
      </div>

      <div id="doctorList" class="grid grid-3">
        <!-- Populated by JS -->
      </div>
    </div>
  </section>

  <!-- ===========================
       APPOINTMENTS
       =========================== -->
  <section class="section" id="appointments">
    <div class="container">
      <div class="section-header">
        <h2>Book an Appointment</h2>
        <span class="muted">Same‑day & next‑day slots available ✔️</span>
      </div>
      <div class="grid grid-2">
        <form id="apptForm" class="card form" novalidate>
          <div class="row">
            <div>
              <label for="patientName">Full Name</label>
              <input id="patientName" name="patientName" placeholder="Jane Doe" required />
            </div>
            <div>
              <label for="patientEmail">Email</label>
              <input id="patientEmail" name="patientEmail" type="email" placeholder="jane@example.com" required />
            </div>
          </div>
          <div class="row">
            <div>
              <label for="patientPhone">Phone</label>
              <input id="patientPhone" name="patientPhone" inputmode="tel" placeholder="+91 98765 43210" required />
            </div>
            <div>
              <label for="dept">Department</label>
              <select id="dept" name="dept" required>
                <option value="">Choose…</option>
                <option>Cardiology</option>
                <option>Pediatrics</option>
                <option>Orthopedics</option>
                <option>Oncology</option>
                <option>Dentistry</option>
                <option>General Medicine</option>
              </select>
            </div>
          </div>
          <div class="row">
            <div>
              <label for="doctorSelect">Doctor (optional)</label>
              <select id="doctorSelect" name="doctor"></select>
            </div>
            <div>
              <label for="dateSelect">Preferred Date</label>
              <input id="dateSelect" name="date" type="date" required />
            </div>
          </div>
          <div class="row">
            <div>
              <label for="timeSelect">Preferred Time</label>
              <select id="timeSelect" name="time" required>
                <option value="">Choose…</option>
                <option>09:00</option><option>09:30</option><option>10:00</option><option>10:30</option>
                <option>11:00</option><option>11:30</option><option>12:00</option><option>12:30</option>
                <option>14:00</option><option>14:30</option><option>15:00</option><option>15:30</option>
                <option>16:00</option><option>16:30</option><option>17:00</option>
              </select>
            </div>
            <div>
              <label for="mode">Visit Type</label>
              <select id="mode" name="mode" required>
                <option value="">Choose…</option>
                <option>In‑person</option>
                <option>Video consult</option>
              </select>
            </div>
          </div>
          <div>
            <label for="notes">Symptoms / Notes (optional)</label>
            <textarea id="notes" name="notes" rows="3" placeholder="Describe your concern briefly…"></textarea>
          </div>
          <div class="row">
            <label><input type="checkbox" id="agree" required /> I agree to the privacy policy.</label>
            <span></span>
          </div>

          <div class="row">
            <button class="btn success" type="submit">✔️ Confirm Booking</button>
            <button class="btn ghost" type="reset">Reset</button>
          </div>
          <p class="muted" style="margin:.25rem 0 0;">We’ll email an acknowledgment and your booking ID.</p>
        </form>

        <div class="card">
          <h3>Your Appointments</h3>
          <p class="muted">Stored locally on this device. You can cancel anytime.</p>
          <div id="apptList" class="appt-list"></div>
          <div style="margin-top: .75rem; display:flex; gap:.5rem; flex-wrap:wrap;">
            <button id="exportAppts" class="btn outline">Export JSON</button>
            <button id="clearAppts" class="btn danger">Clear All</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===========================
       TESTIMONIALS + GALLERY
       =========================== -->
  <section class="section">
    <div class="container">
      <div class="card testi">
        <div>
          <div class="stars" aria-label="5 stars">★★★★★</div>
          <blockquote>
            “From ER to discharge, the team was coordinated, kind, and incredibly efficient.
            The digital follow‑up saved me another trip.” 
          </blockquote>
          <p class="muted">— R. Menon, cardiac patient</p>
          <div style="display:flex; gap:.5rem; margin-top:.75rem;">
            <span class="tag">Empathy</span><span class="tag">Precision</span><span class="tag">Outcomes</span>
          </div>
        </div>
        <div class="gallery">
          <img src="https://images.unsplash.com/photo-1576091160550-2173dba999ef?q=80&w=900&auto=format&fit=crop" alt="ICU monitors" />
          <img src="https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?q=80&w=900&auto=format&fit=crop" alt="MRI room" />
          <img src="https://images.unsplash.com/photo-1589156280159-27698a70f29e?q=80&w=900&auto=format&fit=crop" alt="Pharmacy shelves" />
          <img src="https://images.unsplash.com/photo-1587854692152-0b3b4a5b9a5a?q=80&w=900&auto=format&fit=crop" alt="Operating theatre" />
          <img src="https://images.unsplash.com/photo-1584982751601-97dcc096659c?q=80&w=900&auto=format&fit=crop" alt="Reception desk" />
          <img src="https://images.unsplash.com/photo-1584982198262-3f0f3c718e69?q=80&w=900&auto=format&fit=crop" alt="Patient room" />
        </div>
      </div>
    </div>
  </section>

  <!-- ===========================
       FAQ
       =========================== -->
  <section class="section" id="faq">
    <div class="container">
      <div class="section-header">
        <h2>Frequently Asked Questions</h2>
        <span class="muted">Tap to expand ❓</span>
      </div>
      <div class="accordion" id="faqAcc">
        <div class="item card">
          <div class="head" role="button" aria-expanded="false" tabindex="0">Do you accept walk‑ins?</div>
          <div class="content"><div><p class="muted" style="padding:0 1rem 1rem;">Yes, our ER is open 24/7. For clinics, booking a slot reduces wait times.</p></div></div>
        </div>
        <div class="item card">
          <div class="head" role="button" aria-expanded="false" tabindex="0">What insurance do you accept?</div>
          <div class="content"><div><p class="muted" style="padding:0 1rem 1rem;">We support most private insurers and government schemes. Bring a photo ID and your policy card.</p></div></div>
        </div>
        <div class="item card">
          <div class="head" role="button" aria-expanded="false" tabindex="0">Do you offer telemedicine?</div>
          <div class="content"><div><p class="muted" style="padding:0 1rem 1rem;">Yes, choose “Video consult” while booking. You’ll receive a secure meeting link by email.</p></div></div>
        </div>
        <div class="item card">
          <div class="head" role="button" aria-expanded="false" tabindex="0">How do I prepare for an MRI?</div>
          <div class="content"><div><p class="muted" style="padding:0 1rem 1rem;">Avoid metallic accessories, inform us about implants, and follow fasting instructions if specified.</p></div></div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===========================
       CONTACT
       =========================== -->
  <section class="section" id="contact">
    <div class="container">
      <div class="section-header">
        <h2>Contact Us</h2>
        <span class="muted">We respond within 1 business day.</span>
      </div>
      <div class="grid grid-2">
        <form id="contactForm" class="card form" novalidate>
          <div class="row">
            <div>
              <label for="cName">Name</label>
              <input id="cName" required placeholder="Your full name" />
            </div>
            <div>
              <label for="cEmail">Email</label>
              <input id="cEmail" required type="email" placeholder="you@example.com" />
            </div>
          </div>
          <div class="row">
            <div>
              <label for="cTopic">Topic</label>
              <select id="cTopic" required>
                <option value="">Choose…</option>
                <option>General Query</option>
                <option>Billing</option>
                <option>Insurance</option>
                <option>Medical Records</option>
              </select>
            </div>
            <div>
              <label for="cPhone">Phone (optional)</label>
              <input id="cPhone" inputmode="tel" placeholder="+91 98xxx xxxxx" />
            </div>
          </div>
          <div>
            <label for="cMsg">Message</label>
            <textarea id="cMsg" rows="4" required placeholder="How can we help?"></textarea>
          </div>
          <div class="row">
            <button class="btn" type="submit">Send Message</button>
            <button class="btn ghost" type="reset">Reset</button>
          </div>
          <p class="muted">By submitting, you consent to being contacted about your inquiry.</p>
        </form>

        <div class="card">
          <h3>Reach Us</h3>
          <p><strong>Address:</strong> 221B, Health Avenue, Indiranagar, Bengaluru</p>
          <p><strong>Emergency:</strong> <a href="tel:102">102</a> • <strong>Front Desk:</strong> <a href="tel:+91800000000">+91 80 0000 0000</a></p>
          <p><strong>Email:</strong> <a href="mailto:care@citycare.plus">care@citycare.plus</a></p>
          <div style="display:flex; gap:.5rem; flex-wrap:wrap; margin-top:.6rem">
            <button class="btn outline" id="copyAddress">Copy Address</button>
            <button class="btn outline" id="openMap2">Open Map</button>
          </div>
          <div style="margin-top:1rem" class="muted">
            Office hours: Mon–Sat 8:00–18:00 • Sunday clinics by appointment
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===========================
       FOOTER
       =========================== -->
  <footer>
    <div class="container foot">
      <div>
        <div class="logo"><span class="emblem">+</span><span>CityCare<span class="muted">++</span></span></div>
        <p class="muted" style="margin-top:.6rem">World‑class care, right where you are. From preventive health to complex surgeries, we’ve got you covered.</p>
      </div>
      <div>
        <h4>Departments</h4>
        <a href="#services">Cardiology</a>
        <a href="#services">Orthopedics</a>
        <a href="#services">Oncology</a>
        <a href="#services">Pediatrics</a>
        <a href="#services">Dental</a>
      </div>
      <div>
        <h4>Patients</h4>
        <a href="#appointments">Book Appointment</a>
        <a href="#faq">Insurance & Billing</a>
        <a href="#faq">Visitor Policy</a>
        <a href="#faq">Telemedicine</a>
      </div>
      <div>
        <h4>Company</h4>
        <a href="#contact">Contact</a>
        <a href="#contact">Careers</a>
        <a href="#contact">Media</a>
        <a href="#contact">CSR</a>
      </div>
    </div>
    <div class="container copyright">© 2025 CityCare++. All rights reserved.</div>
  </footer>

  <!-- ===========================
       TOAST CONTAINER + MODAL
       =========================== -->
  <div class="toasts" id="toasts" aria-live="polite" aria-atomic="true"></div>

  <div id="mapModal" class="modal-backdrop" role="dialog" aria-modal="true" aria-labelledby="mapTitle">
    <div class="modal">
      <header>
        <h3 id="mapTitle">CityCare++ Location</h3>
        <button id="closeMap" class="btn ghost" aria-label="Close">✖</button>
      </header>
      <div class="body">
        <div class="map-frame">
          <div>
            <div class="muted" style="text-align:center">Interactive map placeholder</div>
            <p class="muted" style="text-align:center">Use your own Google Maps iframe or Mapbox here.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ===========================
       SCRIPT
       =========================== -->
  <script>
    // Utility: element helpers
    const $ = (sel, el = document) => el.querySelector(sel);
    const $$ = (sel, el = document) => Array.from(el.querySelectorAll(sel));

    // Toasts
    const toasts = $('#toasts');
    function toast(msg, type = 'success', timeout = 3000) {
      const div = document.createElement('div');
      div.className = `toast ${type}`;
      div.setAttribute('role','status');
      div.innerHTML = `<span>${msg}</span><button class="btn ghost" aria-label="Dismiss">Dismiss</button>`;
      toasts.appendChild(div);
      const remove = () => div.remove();
      div.querySelector('button').addEventListener('click', remove);
      const timer = setTimeout(remove, timeout);
      div.addEventListener('pointerenter', () => clearTimeout(timer), { once:true });
    }

    // Theme toggle (persists)
    const themeToggle = $('#themeToggle');
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)');
    function applyTheme(mode) {
      document.documentElement.classList.toggle('dark', mode === 'dark');
      themeToggle.setAttribute('aria-pressed', mode === 'dark' ? 'true' : 'false');
      themeToggle.textContent = mode === 'dark' ? '☀️' : '🌙';
    }
    function initTheme() {
      const stored = localStorage.getItem('theme');
      const mode = stored || (prefersDark.matches ? 'dark' : 'light');
      applyTheme(mode);
    }
    initTheme();
    themeToggle.addEventListener('click', () => {
      const nowDark = !document.documentElement.classList.contains('dark');
      const mode = nowDark ? 'dark' : 'light';
      localStorage.setItem('theme', mode);
      applyTheme(mode);
    });

    // Mobile menu
    const hamburger = $('#hamburger');
    const mobileMenu = $('#mobileMenu');
    hamburger.addEventListener('click', () => {
      const open = !mobileMenu.classList.contains('open');
      hamburger.setAttribute('aria-expanded', String(open));
      mobileMenu.classList.toggle('open', open);
    });
    mobileMenu.addEventListener('click', e => {
      if (e.target.tagName === 'A') {
        mobileMenu.classList.remove('open'); hamburger.setAttribute('aria-expanded','false');
      }
    });

    // Tabs for services
    const tabButtons = [
      ['tabBtnEmergency','tab-emergency'],
      ['tabBtnCardio','tab-cardiology'],
      ['tabBtnPedia','tab-pediatrics'],
      ['tabBtnOrtho','tab-ortho'],
      ['tabBtnOnco','tab-onco'],
      ['tabBtnDental','tab-dental']
    ];
    tabButtons.forEach(([btnId, panelId]) => {
      const btn = document.getElementById(btnId);
      const panel = document.getElementById(panelId);
      btn.addEventListener('click', () => {
        // update buttons
        tabButtons.forEach(([b,p]) => {
          document.getElementById(b).classList.toggle('active', b === btnId);
          document.getElementById(b).setAttribute('aria-selected', b === btnId ? 'true' : 'false');
          document.getElementById(p).classList.toggle('active', p === panelId);
        });
      });
    });

    // Doctors data
    const DOCTORS = [
      { id: 1, name: 'Dr. Aarav Kapoor', dept: 'Cardiology', exp: 14, rating: 4.9, photo: 'https://randomuser.me/api/portraits/men/32.jpg' },
      { id: 2, name: 'Dr. Meera Nair', dept: 'Pediatrics', exp: 11, rating: 4.8, photo: 'https://randomuser.me/api/portraits/women/68.jpg' },
      { id: 3, name: 'Dr. Raghav Sharma', dept: 'Orthopedics', exp: 16, rating: 4.7, photo: 'https://randomuser.me/api/portraits/men/71.jpg' },
      { id: 4, name: 'Dr. Sana Iqbal', dept: 'Oncology', exp: 13, rating: 4.9, photo: 'https://randomuser.me/api/portraits/women/2.jpg' },
      { id: 5, name: 'Dr. Vikram Rao', dept: 'General Medicine', exp: 9, rating: 4.6, photo: 'https://randomuser.me/api/portraits/men/6.jpg' },
      { id: 6, name: 'Dr. Nisha Kulkarni', dept: 'Dentistry', exp: 12, rating: 4.8, photo: 'https://randomuser.me/api/portraits/women/21.jpg' },
      { id: 7, name: 'Dr. Zoya Khan', dept: 'Cardiology', exp: 10, rating: 4.7, photo: 'https://randomuser.me/api/portraits/women/14.jpg' },
      { id: 8, name: 'Dr. Aditya Joshi', dept: 'Orthopedics', exp: 7, rating: 4.6, photo: 'https://randomuser.me/api/portraits/men/22.jpg' },
      { id: 9, name: 'Dr. Pooja Verma', dept: 'Pediatrics', exp: 8, rating: 4.7, photo: 'https://randomuser.me/api/portraits/women/28.jpg' }
    ];

    const doctorList = $('#doctorList');
    const doctorSelect = $('#doctorSelect');

    function renderDoctors(list) {
      doctorList.innerHTML = '';
      list.forEach(d => {
        const el = document.createElement('div');
        el.className = 'card doc-card';
        el.innerHTML = `
          <img class="doc-avatar" src="${d.photo}" alt="${d.name}" />
          <div>
            <div style="display:flex; align-items:center; justify-content:space-between; gap:.5rem;">
              <h3 style="margin:.1rem 0">${d.name}</h3>
              <span class="badge">${d.dept}</span>
            </div>
            <div class="doc-meta">
              <span class="tag">${d.exp}+ yrs</span>
              <span class="tag">⭐ ${d.rating}</span>
              <button class="btn outline btn-book" data-id="${d.id}">Book</button>
            </div>
          </div>
        `;
        doctorList.appendChild(el);
      });
      // wire book buttons
      $$('.btn-book', doctorList).forEach(btn => {
        btn.addEventListener('click', () => {
          const d = DOCTORS.find(x => x.id === Number(btn.dataset.id));
          // Pre-select doctor & department in appointment form
          doctorSelect.value = d.name;
          $('#dept').value = d.dept;
          $('#appointments').scrollIntoView({ behavior: 'smooth' });
          toast(`Booking with ${d.name}.`, 'success');
        });
      });
    }

    function populateDoctorSelect() {
      doctorSelect.innerHTML = '<option value="">No preference</option>';
      DOCTORS.forEach(d => {
        const opt = document.createElement('option');
        opt.textContent = d.name;
        doctorSelect.appendChild(opt);
      });
    }

    populateDoctorSelect();
    renderDoctors(DOCTORS);

    // Doctor filters
    const searchDoctor = $('#searchDoctor');
    const filterDept = $('#filterDept');
    function filterDoctors() {
      const q = searchDoctor.value.trim().toLowerCase();
      const dept = filterDept.value;
      const filtered = DOCTORS.filter(d => {
        const matchesQ = !q || d.name.toLowerCase().includes(q) || d.dept.toLowerCase().includes(q);
        const matchesDept = !dept || d.dept === dept;
        return matchesQ && matchesDept;
      });
      renderDoctors(filtered);
    }
    searchDoctor.addEventListener('input', filterDoctors);
    filterDept.addEventListener('change', filterDoctors);

    // Appointment storage & validation
    const apptForm = $('#apptForm');
    const apptList = $('#apptList');
    const exportBtn = $('#exportAppts');
    const clearBtn = $('#clearAppts');

    function getAppts() {
      try { return JSON.parse(localStorage.getItem('appts') || '[]'); }
      catch { return []; }
    }
    function setAppts(appts) {
      localStorage.setItem('appts', JSON.stringify(appts));
    }
    function renderAppts() {
      const appts = getAppts();
      apptList.innerHTML = '';
      if (appts.length === 0) {
        apptList.innerHTML = '<p class="muted">No appointments yet.</p>';
        return;
      }
      appts.forEach((a, i) => {
        const el = document.createElement('div');
        el.className = 'appt-item';
        el.innerHTML = `
          <div>
            <strong>${a.name}</strong> <span class="muted">• ${a.email}</span>
            <div class="muted">${a.phone}</div>
          </div>
          <div>
            <div><strong>${a.dept}</strong>${a.doctor ? ` • ${a.doctor}` : ''}</div>
            <div class="muted">${a.mode}</div>
          </div>
          <div>
            <div><strong>${a.date}</strong> @ <strong>${a.time}</strong></div>
            <div class="muted">${a.notes || ''}</div>
            <div style="display:flex; gap:.4rem; margin-top:.4rem;">
              <button class="btn outline btn-cancel" data-index="${i}">Cancel</button>
            </div>
          </div>
        `;
        apptList.appendChild(el);
      });
      $$('.btn-cancel', apptList).forEach(btn => {
        btn.addEventListener('click', () => {
          const idx = Number(btn.dataset.index);
          const appts = getAppts();
          const gone = appts.splice(idx,1);
          setAppts(appts);
          renderAppts();
          toast(`Appointment cancelled for ${gone[0].name}.`, 'warn');
        });
      });
    }
    renderAppts();

    // Helper: date min (today)
    const dateSelect = $('#dateSelect');
    const today = new Date();
    const yyyy = today.getFullYear();
    const mm = String(today.getMonth()+1).padStart(2,'0');
    const dd = String(today.getDate()).padStart(2,'0');
    dateSelect.min = `${yyyy}-${mm}-${dd}`;

    function validateEmail(email){
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }
    function validatePhone(phone){
      return /^[+\d][\d\s-]{6,}$/.test(phone);
    }

    apptForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const f = new FormData(apptForm);
      const data = {
        name: f.get('patientName')?.toString().trim(),
        email: f.get('patientEmail')?.toString().trim(),
        phone: f.get('patientPhone')?.toString().trim(),
        dept: f.get('dept'),
        doctor: f.get('doctor') || '',
        date: f.get('date'),
        time: f.get('time'),
        mode: f.get('mode'),
        notes: f.get('notes')?.toString().trim() || '',
        agreed: $('#agree').checked
      };
      // validations
      const errors = [];
      if (!data.name) errors.push('Name is required.');
      if (!validateEmail(data.email)) errors.push('Valid email is required.');
      if (!validatePhone(data.phone)) errors.push('Valid phone is required.');
      if (!data.dept) errors.push('Please choose a department.');
      if (!data.date) errors.push('Please choose a date.');
      if (!data.time) errors.push('Please choose a time.');
      if (!data.mode) errors.push('Please choose visit type.');
      if (!data.agreed) errors.push('You must agree to the privacy policy.');

      if (errors.length) {
        toast(errors[0], 'error', 5000);
        return;
      }
      // add booking
      const appts = getAppts();
      appts.push(data);
      setAppts(appts);
      renderAppts();
      apptForm.reset();
      toast('Appointment booked ✔️', 'success');
    });

    exportBtn.addEventListener('click', () => {
      const blob = new Blob([JSON.stringify(getAppts(), null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'appointments.json'; a.click();
      URL.revokeObjectURL(url);
      toast('Exported appointments.', 'success');
    });

    clearBtn.addEventListener('click', () => {
      if (confirm('Delete all appointments?')) {
        localStorage.removeItem('appts');
        renderAppts();
        toast('All appointments cleared.', 'warn');
      }
    });

    // FAQ accordion
    $$('#faqAcc .item').forEach(item => {
      const head = $('.head', item);
      const toggle = () => {
        const open = !item.classList.contains('open');
        item.classList.toggle('open', open);
        head.setAttribute('aria-expanded', String(open));
      };
      head.addEventListener('click', toggle);
      head.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); toggle(); }
      });
    });

    // Copy address + map modal
    $('#copyAddress').addEventListener('click', async () => {
      try {
        await navigator.clipboard.writeText('221B, Health Avenue, Indiranagar, Bengaluru');
        toast('Address copied to clipboard.', 'success');
      } catch {
        toast('Could not copy address.', 'error');
      }
    });
    const mapModal = $('#mapModal');
    const openMap = () => mapModal.classList.add('open');
    const closeMap = () => mapModal.classList.remove('open');
    $('#openMap').addEventListener('click', openMap);
    $('#openMap2').addEventListener('click', openMap);
    $('#closeMap').addEventListener('click', closeMap);
    mapModal.addEventListener('click', (e) => { if (e.target === mapModal) closeMap(); });

    // Sync doctorSelect with department
    $('#dept').addEventListener('change', () => {
      const dept = $('#dept').value;
      if (!dept) { populateDoctorSelect(); return; }
      doctorSelect.innerHTML = '<option value="">No preference</option>';
      DOCTORS.filter(d => d.dept === dept).forEach(d => {
        const o = document.createElement('option'); o.textContent = d.name; doctorSelect.appendChild(o);
      });
    });

    // Keyboard ESC to close modals
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeMap();
    });

    // Helpful: prefill time to next slot
    (function suggestNextSlot(){
      const s = $('#timeSelect');
      const now = new Date();
      const mins = now.getMinutes();
      const add = mins < 30 ? (30 - mins) : (60 - mins);
      const next = new Date(now.getTime() + add*60000);
      const hh = String(next.getHours()).padStart(2,'0');
      const mm = next.getMinutes() < 30 ? '30' : '00';
      const candidate = `${hh}:${mm}`;
      const found = Array.from(s.options).find(o => o.value === candidate);
      if (found) s.value = candidate;
    })();

    // Smooth scroll for in-page nav (enhancement)
    $$('.nav a, .mobile-menu a, .actions a').forEach(a => {
      a.addEventListener('click', e => {
        const href = a.getAttribute('href') || '';
        if (href.startsWith('#')) {
          const target = document.querySelector(href);
          if (target) {
            e.preventDefault();
            target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            history.pushState(null, '', href);
          }
        }
      });
    });
  </script>
</body>
</html>
